#See https://boxlambda.readthedocs.io/en/latest/build-system/#bender-targets for a list of used Bender targets.

# Package metadata. Required.
package:
  # The name of the package. Required.
  name: hello_world

dependencies:
  # Path dependency.
  boxlambda_soc: { path: "../../components/boxlambda_soc" }
  vs0_stub: { path: "../../components/vs0_stub" }

sources:
  - target: all(vivado, prj_constraints)
    files:
      - ../boxlambda_base/constrs/boxlambda_soc.xdc
  - target: all(openxc7, prj_constraints)
    files:
      - ../boxlambda_base/constrs/boxlambda_soc_openxc7.xdc
  - target: arty-a7-35
    defines:
      VRAM_SIZE_BYTES: 65536
      DPRAM_SIZE_BYTES: 65536
      NO_MODPORT_EXPRESSIONS: ~
      DEBUG_MODULE_ACTIVE: ~
      #YM2149: ~
      #SDSPI: ~
      #DRAM: ~
      #VERA: ~
      #PICORV_DMA: ~
      #SPIFLASH: ~
      SYS_CLK_25MHZ: ~
      #TRACE_ALL_INSTRUCTIONS: ~
    files:
      - ../boxlambda_base/rtl/boxlambda_top.sv
  - target: arty-a7-100
    defines:
      //FIXME: OpenXC7 doesn't work well with bigger memories.
      VRAM_SIZE_BYTES: 65536
      DPRAM_SIZE_BYTES: 65536
      NO_MODPORT_EXPRESSIONS: ~
      DEBUG_MODULE_ACTIVE: ~
      #YM2149: ~
      #SDSPI: ~
      #DRAM: ~
      #VERA: ~
      #PICORV_DMA: ~
      #SPIFLASH: ~
      SYS_CLK_25MHZ: ~
      #TRACE_ALL_INSTRUCTIONS: ~
    files:
      - ../boxlambda_base/rtl/boxlambda_top.sv
  - target: verilator
    files:
      - sim/sim_main.cpp
      - ../boxlambda_base/sim/sim_main.sv
      - ../boxlambda_base/lint.vlt

