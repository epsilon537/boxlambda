# The Register Access Layer

- **Included in OS**: Yes

The Register Access Layer is code-generated from `.yaml` register definition
files using [Corsair](https://github.com/esynr3z/corsair).

The register definition files are located in directory [registers/definitions](https://github.com/epsilon537/boxlambda/tree/master/registers/definitions).

The generated C/C++ register access header files are located in directory
[registers/generated](https://github.com/epsilon537/boxlambda/tree/develop/registers/generated).

The template used to generate the C/C++ register access header files can be
found here:

[registers/generators/c_header_nocstd.j2](https://github.com/epsilon537/boxlambda/blob/master/registers/generators/c_header_nocstd.j2)

Also the Register Map documentation section is generated from the register
definition files.

## The DFX Controller Register Interface

Due to a limitation of the Corsair tool, the DFX Controller register interface is split across two header files,
[dfx_controller_ctrl_reg.h](https://github.com/epsilon537/boxlambda/blob/master/registers/generated/dfx_controller_ctrl_reg.h) and [dfx_controller_other_regs.h](https://github.com/epsilon537/boxlambda/blob/master/registers/generated/dfx_controller_other_regs.h). The write-only Control
register and the read-only Status register are located at the same address.
Corsair doesn't support two register definitions at the same address. The
workaround is to define the two registers in separate files.

## The LiteDRAM Register Access Layer

The LiteDRAM Register Access Layer is generated by the LiteDRAM generator, not
by Corsair. The register header files are located in directory `<build_dir>/codegen/litedram/sw/include`.
