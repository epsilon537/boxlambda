start

XXXXXX> (vera :display :enable)
1

XXXXXX> (vera :layer 0 :enable)
1

XXXXXX> (vera :map 0 :width 32 :height 32 :map-type +vera-map-type-tile+)
(:addr XXXXXXXXX :width 32 :height 32 :map-type 2)

XXXXXX> (vera :layer 0 :map 0)
0

XXXXXX> (vera :map 0 :entry :x 0 :y 0 :val 1)
1

XXXXXX> (dolist (w (list 8 16))
  (dolist (h (list 8 16))
    (dolist (bpp (list 2 4 8))
      (vera :tileset 0 :width w :height h :bpp bpp :num-tiles 8)
      (vera :layer 0 :tileset 0)
      (vera-tileset-pixel 0 1 (- w 1) (- h 1) 101)
      (vera :pixel :tileset 0 :tile 1 :x (- w 1) :y (- h 1) :val 101)
      (print (vera :pixel :tileset 0 :tile 1 :x (- w 1) :y (- h 1)))
      (vera-irqline (- h 1))
      (vera-linecapture-enable 1)
      (loop (if (= (vera-linecapture-enable) 0) (return)))
      (vera-linecapture-enable 1)
      (loop (if (= (vera-linecapture-enable) 0) (return)))
      (print (vera-linecapture-read-pixel (- w 1)))
      (vera :irqline (- h 1))
      (vera :linecapture :enable)
      (loop (if (= (vera :linecapture :enabled) 0) (return)))
      (print (vera :linecapture :pixel :x (- w 1)))
      (vera :pixel :tileset 0 :tile 1 :x (- w 1) :y (- h 1) :val 0)
      (vera :tileset 0 :deinit))))

1
(15 15 15)
(:r 15 :g 15 :b 15)
5
(0 12 5)
(:r 0 :g 12 :b 5)
101
(11 15 7)
(:r 11 :g 15 :b 7)
1
(15 15 15)
(:r 15 :g 15 :b 15)
5
(0 12 5)
(:r 0 :g 12 :b 5)
101
(11 15 7)
(:r 11 :g 15 :b 7)
1
(15 15 15)
(:r 15 :g 15 :b 15)
5
(0 12 5)
(:r 0 :g 12 :b 5)
101
(11 15 7)
(:r 11 :g 15 :b 7)
1
(15 15 15)
(:r 15 :g 15 :b 15)
5
(0 12 5)
(:r 0 :g 12 :b 5)
101
(11 15 7)
(:r 11 :g 15 :b 7)
nil

XXXXXX>

'end
end
