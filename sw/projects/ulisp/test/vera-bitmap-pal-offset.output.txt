start

XXXXXX> (vera :display :enable)
1

XXXXXX> (vera :layer 0 :enable)
1

XXXXXX> (dolist (bpp (list 2 4 8))
  (vera :tileset 0 :width 320 :height 32 :bpp bpp :num-tiles 1)
  (print (vera :tileset 0 :info))
  (vera :layer 0 :bitmap :tileset 0 :tile 0)
  (vera :layer 0 :pal-offset 0)
  (print (vera :layer 0 :pal-offset))
  (vera :pixel :tileset 0 :tile 0 :x 0 :y 0 :val 1)
  (vera :irqline 0)
  (vera :linecapture :enable)
  (loop (if (= (vera :linecapture :enabled) 0) (return)))
  (print (vera :linecapture :pixel :x 0))
  (print (vera :palette 1))
  (vera :layer 0 :pal-offset 1)
  (print (vera :layer 0 :pal-offset))
  (vera :linecapture :enable)
  (loop (if (= (vera :linecapture :enabled) 0) (return)))
  (print (vera :linecapture :pixel :x 0))
  (print (vera :palette 17))
  (vera :layer 0 :pal-offset 4)
  (print (vera :layer 0 :pal-offset))
  (vera :linecapture :enable)
  (loop (if (= (vera :linecapture :enabled) 0) (return)))
  (print (vera :linecapture :pixel :x 0))
  (print (vera :palette (1+ (* 4 16))))
  (vera :tileset 0 :deinit))

(:addr XXXXXXXXX :width 320 :height 32 :bpp 2 :num-tiles 1 :tilesize-bytes 2560)

0
(:r 15 :g 15 :b 15)
(:r 15 :g 15 :b 15)
1
(:r 1 :g 1 :b 1)
(:r 1 :g 1 :b 1)
4
(:r 12 :g 12 :b 9)
(:r 12 :g 12 :b 9)
(:addr XXXXXXXXX :width 320 :height 32 :bpp 4 :num-tiles 1 :tilesize-bytes 5120)

0
(:r 15 :g 15 :b 15)
(:r 15 :g 15 :b 15)
1
(:r 1 :g 1 :b 1)
(:r 1 :g 1 :b 1)
4
(:r 12 :g 12 :b 9)
(:r 12 :g 12 :b 9)
(:addr XXXXXXXXX :width 320 :height 32 :bpp 8 :num-tiles 1 :tilesize-bytes 10240
)
0
(:r 15 :g 15 :b 15)
(:r 15 :g 15 :b 15)
1
(:r 1 :g 1 :b 1)
(:r 1 :g 1 :b 1)
4
(:r 12 :g 12 :b 9)
(:r 12 :g 12 :b 9)
nil

XXXXXX>



'end
end
