start

XXXXXX> (vera :display :enable)
1

XXXXXX> (vera :tileset 0 :width 16 :height 16 :bpp 1 :num-tiles 32)
(:addr XXXXXXXXX :width 16 :height 16 :bpp 1 :num-tiles 32 :tilesize-bytes 32)

XXXXXX>
(dotimes (ii 16)
  (vera-tileset-pixel 0 1 ii ii 1)
  (vera-tileset-pixel 0 1 (- 15 ii) ii 1))
nil

XXXXXX>







(vera :map 0 :width 32 :height 32 :map-type +vera-map-type-txt16+)
(:addr XXXXXXXXX :width 32 :height 32 :map-type 0)

XXXXXX> (vera :layer 0 :map 0)
0

XXXXXX> (vera :layer 0 :tileset 0)
0

XXXXXX>

(defvar row1 10)
row1

XXXXXX> (defvar col1 20)
col1

XXXXXX> (defvar row2 20)
row2

XXXXXX> (defvar col2 10)
col2

XXXXXX>
(vera :map 0 :entry :x col1 :y row1 :val
                (logior (ash +vera-color-green+ 12) (ash +vera-color-white+ 8) 1
))
20737

XXXXXX> (vera :map 0 :entry :x col2 :y row2 :val
                (logior (ash +vera-color-blue+ 12) (ash +vera-color-yellow+ 8) 1
))
26369

XXXXXX> (vera :layer 0 :enable)
1

XXXXXX>
(dolist (rowcol (list (cons row1 col1) (cons row2 col2)))
  (vera :irqline (* 16 (car rowcol)))
  (vera :linecapture :enable)
  (loop (if (= (vera :linecapture :enabled) 0) (return)))
  (dotimes (ii 16)
    (print (vera :linecapture :pixel :x (+ (* 16 (cdr rowcol)) ii)))))

(:r 15 :g 15 :b 15)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 0 :g 12 :b 5)
(:r 15 :g 15 :b 15)
(:r 14 :g 14 :b 7)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 0 :g 0 :b 10)
(:r 14 :g 14 :b 7)
nil

XXXXXX>






'end
end
