start

XXXXXX> (vera :display :enable)
1

XXXXXX> (vera :layer 0 :enable)
1

XXXXXX> (dolist (w (list 320 640))
  (dolist (h (list 32 64))
    (vera :tileset 0 :init :width w :height h :bpp 2 :num_tiles 1)
    (print (vera :tileset 0 :info))
    (vera :layer 0 :bitmap :tileset 0 :tile_idx 0)
    (vera :tileset 0 :pixel :tile_idx 0 :x 0 :y 0 :val 101)
    (vera :tileset 0 :pixel :tile_idx 0 :x (- w 1) :y 0 :val 101)
    (vera :tileset 0 :pixel :tile_idx 0 :x 0 :y (- h 1) :val 101)
    (vera :tileset 0 :pixel :tile_idx 0 :x (- w 1) :y (- h 1) :val 101)
    (vera :irqline 0)
    (vera :linecapture :enable)
    (loop (if (= (vera :linecapture :enabled) 0) (return)))
    (print (vera :linecapture :pixel :x 0))
    (print (vera :linecapture :pixel :x 1))
    (print (vera :linecapture :pixel :x (- w 2)))
    (print (vera :linecapture :pixel :x (- w 1)))
    (vera :irqline 1)
    (vera :linecapture :enable)
    (loop (if (= (vera :linecapture :enabled) 0) (return)))
    (print (vera :linecapture :pixel :x 0))
    (print (vera :linecapture :pixel :x 1))
    (print (vera :linecapture :pixel :x (- w 2)))
    (print (vera :linecapture :pixel :x (- w 1)))
    (vera :irqline (- h 1))
    (vera :linecapture :enable)
    (loop (if (= (vera :linecapture :enabled) 0) (return)))
    (print (vera :linecapture :pixel :x 0))
    (print (vera :linecapture :pixel :x 1))
    (print (vera :linecapture :pixel :x (- w 2)))
    (print (vera :linecapture :pixel :x (- w 1)))
    (vera :irqline h)
    (vera :linecapture :enable)
    (loop (if (= (vera :linecapture :enabled) 0) (return)))
    (print (vera :linecapture :pixel :x 0))
    (print (vera :linecapture :pixel :x 1))
    (print (vera :linecapture :pixel :x (- w 2)))
    (print (vera :linecapture :pixel :x (- w 1)))
    (vera :tileset 0 :pixel :tile_idx 0 :x 0 :y 0 :val 0)
    (vera :tileset 0 :pixel :tile_idx 0 :x (- w 1) :y 0 :val 0)
    (vera :tileset 0 :pixel :tile_idx 0 :x 0 :y (- h 1) :val 0)
    (vera :tileset 0 :pixel :tile_idx 0 :x (- w 1) :y (- h 1) :val 0)
    (vera :tileset 0 :deinit)))

(:addr XXXXXXXXX :width 320 :height 32 :bpp 2 :num_tiles 1 :tilesize_bytes 2560)

(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:addr XXXXXXXXX :width 320 :height 64 :bpp 2 :num_tiles 1 :tilesize_bytes 5120)

(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:addr XXXXXXXXX :width 640 :height 32 :bpp 2 :num_tiles 1 :tilesize_bytes 5120)

(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:addr XXXXXXXXX :width 640 :height 64 :bpp 2 :num_tiles 1 :tilesize_bytes 10240
)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 15 :g 15 :b 15)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
(:r 0 :g 0 :b 0)
nil

XXXXXX>

'end
end
